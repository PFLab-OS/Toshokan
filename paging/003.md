paging/003: アクセスできない仮想メモリA
==========================

今回使用するディレクトリ：[sample/paging/003](https://github.com/PFLab-OS/Toshokan/tree/master/sample/paging/003)

今回は[一部のコードをコメントアウト](https://github.com/PFLab-OS/Toshokan/blob/master/sample/paging/003/friend.cc#L56-58)してみました。この状態で[paging/002](paging/002.md)と同じ事をやってみましょう。

以下の作業をしてQEMUコンソールを開きましょう。この流れは前回と同じですね。

* `make`する。
* `hello!`が表示されたら、別のシェルから`make attach_docker`を実行。
* コンテナの中で`./monitor`を実行してqemuコンソールを立ち上げる。

CPUを切り替えた後、仮想メモリをダンプします。

```
(qemu) cpu 1
(qemu) x /10x 0xC0000000
00000000c0000000: Cannot access memory
```

あれ、「メモリにアクセスできない」というエラーが出てしまいました。

ひとまず、物理メモリもダンプしてみましょう。

```
(qemu) xp /10x 0x80000000
0000000080000000: 0x90661eeb 0x4a70726b 0x00097000 0x00000000
0000000080000010: 0x80000000 0x00000000 0x00000000 0x00000000
0000000080000020: 0x8ec88cfa 0x168b66d8
```

こちらは問題無く表示されますね。

この結果から、コメントアウトしたコードは0xC0000000からの仮想メモリを設定する、という処理を行っていたと推察できます。

でも、「仮想メモリを設定する」ってどういう事なんでしょうね・・・？

[このセクションの目次に戻る](index.md)
