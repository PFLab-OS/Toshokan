rules:
  - template: hakase_bin
    path_extract_vars:
      - target
      - depends
      - clean_targets
    variables:
      target: reading_signature.bin
      cflags: $(HAKASE_CFLAGS)
      depends:
        - ../../tests/test.o
        - reading_signature.cc
      clean_targets:
        - "*.bin"
        - "*.o"
        - "*.d"
  - template: hakase_bin
    path_extract_vars:
      - target
      - depends
      - clean_targets
    variables:
      target: rw_small.bin
      cflags: $(HAKASE_CFLAGS)
      depends:
        - ../../tests/test.o
        - rw_small.cc
      clean_targets:
        - "*.bin"
        - "*.o"
        - "*.d"
  - template: hakase_bin
    path_extract_vars:
      - target
      - depends
      - clean_targets
    variables:
      target: rw_large.bin
      cflags: $(HAKASE_CFLAGS)
      depends:
        - ../../tests/test.o
        - rw_large.cc
      clean_targets:
        - "*.bin"
        - "*.o"
        - "*.d"
