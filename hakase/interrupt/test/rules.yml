rules:
  - template: hakase_bin
    path_extract_vars:
      - clean_targets
    variables:
      target: interrupt.bin
      cflags: $(HAKASE_CFLAGS)
      depends:
        - ../../tests/test.o
        - ../interrupt.o
        - hakase.cc
      clean_targets:
        - "*.bin"
        - "*.o"
        - "*.d"
  - template: hakase_bin
    path_extract_vars:
      - clean_targets
    variables:
      target: friend.elf
      cflags: $(HAKASE_ELFLOADER_BIN_CFLAGS)
      depends:
        - friend.cc
        - int.cc
        - int_asm.cc
      clean_targets:
        - "*.elf"
        - "*.bin"
        - "*.o"
        - "*.d"
